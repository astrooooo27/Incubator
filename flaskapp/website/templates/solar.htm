<!DOCTYPE html>
<html>
  <title>Solar</title>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- <meta http-equiv="refresh" content="5" > -->
  <script type="text/javascript" src="http://code.jquery.com/jquery-1.7.1.min.js"></script>
  
<link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Raleway">
<link rel="stylesheet" href="static/css/all.min.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<link rel="stylesheet" href="/static/css/main.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<style>
    html,body,h1,h2,h3,h4,h5 {font-family: "Raleway", sans-serif}
</style>
    
    <body class="w3-light-grey", onload="update_values;">
    
    <!-- Top container -->
    <div class="w3-bar w3-top w3-black w3-large" style="z-index:4">
      <button class="w3-bar-item w3-button w3-hide-large w3-hover-none w3-hover-text-light-grey" onclick="w3_open();"><i class="fa fa-bars"></i>  Menu</button>
      <span class="w3-bar-item w3-right"></span>
    </div>
    
    <!-- Sidebar/menu -->
    <nav class="w3-sidebar w3-collapse w3-white w3-animate-left" style="z-index:3;width:300px;" id="mySidebar">
      <div class="w3-container">
      <br>
        <h5><b><i class="fa fa-dashboard"></i>Dashboard</b></h5>
      </div>
      <div class="w3-bar-block">
        <a href="#" class="w3-bar-item w3-button w3-padding-16 w3-hide-large w3-white w3-hover-black" onclick="w3_close()" title="close menu"><i class="fa fa-remove fa-fw"></i>  Close Menu</a>
        <a href="/overview" class="w3-bar-item w3-button w3-padding"><i class="fa fa-calendar"></i> Incubator Period and Schedules</a>
        <a href="/humid_temp" class="w3-bar-item w3-button w3-padding"><i class="fa fa-bar-chart"></i> Humidity and Temperature</a>
        <a href="/cleaning" class="w3-bar-item w3-button w3-padding"><i class="fas fa-broom"></i> Cleaning</a>
        <a href="/candling" class="w3-bar-item w3-button w3-padding"><i class="fa fa-camera"></i> Candling</a>
        <a href="/turning" class="w3-bar-item w3-button w3-padding"><i class="fa fa-refresh"></i> Turning</a>
        <a href="#my-header" class="w3-bar-item w3-button w3-padding"><i class="fa fa-bolt"></i> Solar</a>
        <a href="#my-footer" class="w3-bar-item w3-button w3-padding"><i class="fa fa-info-circle"></i> Description</a>
        <a href="{{ url_for('login') }}">Logout</a>
      </div>
    </nav>
    <div class="container page-container">
      {% with message = get_flashed_messages()  %} 
        {% if message %}
          {% for msg in message %}
            {% if category =='error' %}
            <div class="alert alert-danger alter-dismissable fade show" role="alert">
              {{ msg }}
              <button type="button" class="close" data-dismiss="alert">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            {% else %}
            <div class="alert alert-success alter-dismissable fade show" role="alert">
              {{ msg }}
              <button type="button" class="close" data-dismiss="alert">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
            {% endif %}
          {% endfor %}
        {% endif %}
      {% endwith %}
    </div>
    <div class="container">{% block content %} {% endblock %}</div>
    
    <!-- Overlay effect when opening sidebar on small screens -->
    <div class="w3-overlay w3-hide-large w3-animate-opacity" onclick="w3_close()" style="cursor:pointer" title="close side menu" id="myOverlay"></div>
    
    <!-- !PAGE CONTENT! -->
    <div class="w3-main" style="margin-left:300px;margin-top:20px;">
    
      <!-- Header -->
      <header id="my-header" class="w3-container" style="padding-top:10px">
        <h5><i class="fa fa-bolt"></i><b> Solar</b></h5>
      </header>
      <script src=" "></script>
      <script type="text/javascript">
    
    </script>

<body>
    <!-- SOLAR START HERE -->
  <div class="w3-row-padding w3-margin-bottom">
    <div class="w3-quarter">
      <div class="w3-container w3-white w3-hover-shadow w3-border-yellow w3-bottombar w3-padding-16">
        <div class="circular-progress">
            <span class="progress-value">0%</span>
        </div>
            <span class="percentage">Battery Percentage</span>
      </div>
    </div>
    <div class="w3-quarter">
      <div class="w3-container w3-white w3-hover-shadow w3-border-yellow w3-bottombar w3-padding-16">
        <div class="circular-progress2">
            <span class="progress-value2">0%</span>
        </div>
            <span class="percentage">Current Sensor Battery</span>
        </div>
    </div>
    <div class="w3-quarter">
      <div class="w3-container w3-white w3-hover-shadow w3-border-yellow w3-bottombar w3-padding-16">
        <div class="circular-progress3">
          <span class="progress-value3">0%</span>
        </div>
          <span class="percentage">Power Battery</span>
        </div>
    </div>
    <div class="w3-quarter">
      <div class="w3-container w3-white w3-hover-shadow w3-border-yellow w3-bottombar w3-padding-16">
        <div class="circular-progress4">
          <span class="progress-value4">0%</span>
        </div>
          <span class="percentage">Voltage Sensor Battery</span>
      </div>
    </div>
  </div>

  <script>
    function updateProgressBars() {
        fetch('/solar/data')
            .then(response => response.json())
            .then(data => {
                updateProgressBar('.circular-progress', '.progress-value', data.BatteryPercentage);
                updateProgressBar('.circular-progress2', '.progress-value2', data.CurrentSensorBattery);
                updateProgressBar('.circular-progress3', '.progress-value3', data.PowerBattery);
                updateProgressBar('.circular-progress4', '.progress-value4', data.VoltageSensorBattery);
            });
    }
    
    function updateProgressBar(circularSelector, progressValueSelector, value) {
        let circularProgress = document.querySelector(circularSelector),
            progressValue = document.querySelector(progressValueSelector);
    
        let progressStartValue = 0,
            progressEndValue = value,
            speed = 20;
    
        let progress = setInterval(() => {
            progressStartValue++;
    
            progressValue.textContent = `${progressStartValue}%`;
            circularProgress.style.background = `conic-gradient(#7d2ae8 ${progressStartValue * 3.6}deg, #ededed 0deg)`;
    
            if (progressStartValue == progressEndValue) {
                clearInterval(progress);
            }
        }, speed);
    }
    
    // Call updateProgressBars every 5 seconds (adjust the interval as needed)
    setInterval(updateProgressBars, 5000);
    </script>

</body>
<footer id="my-footer">
        <div class="w3-container">
          <h5><i class="fa fa-info-circle"></i><b> Description</b></h5>
        </div>
        <div class="w3-row-padding w3-white w3-border-green w3-margin-left w3-leftbar" style="margin:0 -16px">
          <div class="w3-third w3-padding-16">
            <img src="/static/images/trees.svg" style="width:50%" alt="">
          </div>
          <div class="w3-twothird">
            <h5><b>Incubation</b></h5>
            <style>
              p {
                font-family: "Your Chosen Font", sans-serif;
              }
            </style>
            <p>
              The Automated Egg Incubator with AI and IoT aims to construct an intelligent smart incubator that limits human interaction in the incubation cycle to meet protein needs. In which farmers who have incubators face low productivity due to poor performance in their hatcheries that have human beings monitoring and controlling processes in incubation. Minimizing human contact in incubation can boost the income levels of smallholder farmers. Remote monitoring and control of the egg incubator parameters from a distant location may be cost-effective and efficient for bird reproduction in modern times. The abundant solar resources can eliminate the challenge of low access rates and unreliable power supply farmers face and guarantee income from hatcheries.
            </p>
          </div>
        </div>
      <br>
      <div class="w3-container w3-dark-grey w3-padding-32">
        <div class="w3-row">
          <div class="w3-container w3-third">
            <h5 class="w3-bottombar w3-border-green">Create by</h5>
           <h6>PCEIT-03-701E</h6>
           <h7>Class of 2022-2023</h7>
          </div>
          <div class="w3-container w3-third">
            <h5 class="w3-bottombar w3-border-red">Guided by</h5>
            <h6>Master Engineer Ronel Paglomutan</h6>
          </div>
          <div class="w3-container w3-third">
            <h5 class="w3-bottombar w3-border-orange">References</h5>
            <h6></h6>
          </div>
        </div>
      </div>
    
    <script>
    // Get the Sidebar
    var mySidebar = document.getElementById("mySidebar");
    
    // Get the DIV with overlay effect
    var overlayBg = document.getElementById("myOverlay");
    
    // Toggle between showing and hiding the sidebar, and add overlay effect
    function w3_open() {
      if (mySidebar.style.display === 'block') {
        mySidebar.style.display = 'none';
        overlayBg.style.display = "none";
      } else {
        mySidebar.style.display = 'block';
        overlayBg.style.display = "block";
      }
    }
    
    // Close the sidebar with the close button
    function w3_close() {
      mySidebar.style.display = "none";
      overlayBg.style.display = "none";
    }
    </script>
    <script src="/static/JS/chart_data.js"> </script>
</footer>
</html>